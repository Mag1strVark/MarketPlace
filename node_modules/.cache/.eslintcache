[{"C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\index.js":"1","C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\App.js":"2","C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Header\\Header.js":"3","C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Main\\Main.js":"4","C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Footer\\Footer.js":"5","C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Main\\Item\\Item.js":"6","C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Header\\Order\\Order.js":"7","C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Main\\Categories\\Categories.js":"8","C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Main\\ShowItem\\ShowItem.js":"9"},{"size":254,"mtime":1684703752904,"results":"10","hashOfConfig":"11"},{"size":8207,"mtime":1684705631319,"results":"12","hashOfConfig":"11"},{"size":1547,"mtime":1684707372176,"results":"13","hashOfConfig":"11"},{"size":718,"mtime":1684700515388,"results":"14","hashOfConfig":"11"},{"size":259,"mtime":1684692880683,"results":"15","hashOfConfig":"11"},{"size":1354,"mtime":1684700532271,"results":"16","hashOfConfig":"11"},{"size":1548,"mtime":1684707348436,"results":"17","hashOfConfig":"11"},{"size":1859,"mtime":1684704441076,"results":"18","hashOfConfig":"11"},{"size":1229,"mtime":1684702986032,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1676l6c",{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},"C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\index.js",[],[],"C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\App.js",["49"],[],"import s from './App.module.css';\nimport Header from './components/Header/Header';\nimport Main from './components/Main/Main';\nimport Footer from './components/Footer/Footer';\nimport React from 'react';\nimport Categories from './components/Main/Categories/Categories';\nimport ShowItem from './components/Main/ShowItem/ShowItem';\nimport axios from \"axios\";\nimport {toast, ToastContainer} from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            orders: [],\n            currentItems: [],\n            items: null,\n            showItem: false,\n            fullItem: {},\n            currentCategory: null,\n            searchTerm: '',\n            favoriteItems: false\n        };\n        this.addToOrder = this.addToOrder.bind(this);\n        this.deleteOrder = this.deleteOrder.bind(this);\n        this.chooseCategory = this.chooseCategory.bind(this);\n        this.onShowItem = this.onShowItem.bind(this);\n    }\n\n    componentDidMount() {\n        axios.get('https://fakestoreapi.com/products')\n            .then(res => {\n                const items = res.data;\n                this.setState({ items, currentItems: items });\n            })\n            .catch(function (error){\n                console.log(error);\n            });\n    }\n\n    render() {\n        return (\n            <div className={s.wrapper}>\n                <Header\n                    orders={this.state.orders}\n                    onDelete={this.deleteOrder}\n                    searchTerm={this.state.searchTerm}\n                    onSearchChange={this.onSearchChange}\n                />\n                <Categories\n                    chooseCategory={this.chooseCategory}\n                    sortItemsByPrice={this.sortItemsByPrice}\n                    onShowItem={this.onShowItem}\n                    onSearchChange={this.onSearchChange}\n                    searchTerm={this.state.searchTerm}\n                    favoriteItems={this.state.favoriteItems}\n                />\n                <Main\n                    onShowItem={this.onShowItem}\n                    items={this.state.currentItems}\n                    onAdd={this.addToOrder}\n                    favoriteStatus={this.favoriteStatus}\n                    favoriteItems={this.state.favoriteItems}\n                />\n                {this.state.showItem &&\n                    <ShowItem\n                        onShowItem={this.onShowItem}\n                        item={this.state.fullItem}\n                        onAdd={this.addToOrder}\n                        favoriteStatus={this.favoriteStatus}\n                        favoriteItems={this.state.favoriteItems}\n                    />}\n                <Footer/>\n                <button className={s.scrollToTopBtn} onClick={this.handleScrollToTop}>↑</button>\n                <ToastContainer />\n            </div>\n        );\n    }\n\n    onShowItem(item) {\n        this.setState({fullItem: item});\n        this.setState({showItem: !this.state.showItem});\n    }\n\n    chooseCategory(category) {\n        if (category === \"all\") {\n            this.setState({ currentItems: this.state.items, currentCategory: null, favoriteItems: false }); // Обнуляем текущую категорию при выборе всех товаров\n            return;\n        }\n        if (category === \"favorite\") {\n            const favoriteItems = this.state.items.filter((el) => el.favorite);\n            this.setState({\n                currentItems: favoriteItems,\n                currentCategory: category,\n                favoriteItems: true\n            });\n            return;\n        }\n        this.setState({\n            currentCategory: category, // Сохраняем текущую категорию в состоянии компонента\n            currentItems: this.state.items.filter((el) => el.category === category),\n            favoriteItems: false\n        });\n    }\n\n    sortItemsByPrice = (direction) => {\n        let sortString = direction === \"asc\" ? \"?sort=asc\" : \"?sort=desc\";\n        let itemsToSort = this.state.currentItems;\n        if (this.state.items && this.state.currentItems.length === this.state.items.length) {\n            itemsToSort = this.state.items;\n        }\n        axios.get(`https://fakestoreapi.com/products${sortString}&price`)\n            .then(res => {\n                const sortedItems = res.data;\n                // Фильтруем все товары по текущему поисковому запросу\n                const filteredItems = sortedItems.filter((el) => {\n                    return !this.state.searchTerm || el.title.toLowerCase().includes(this.state.searchTerm.toLowerCase());\n                });\n                // Если установлена текущая категория, то фильтруем товары также по ней\n                const filteredAndCategorizedItems = filteredItems.filter((el) => {\n                    return !this.state.currentCategory || el.category === this.state.currentCategory;\n                });\n                this.setState({\n                    currentItems: filteredAndCategorizedItems\n                });\n            })\n            .catch(error => console.error(error));\n    }\n\n    deleteOrder(id) {\n        this.setState({orders: this.state.orders.filter(el => el.id !== id)});\n        toast.success('Order deleted successfully!', {\n            position: \"top-center\",\n            autoClose: 1000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            theme: \"light\",\n        });\n    }\n\n    addToOrder(item) {\n        let isInArray = false;\n        this.state.orders.forEach(el => {\n            if (el.id === item.id)\n                isInArray = true;\n        });\n        if (!isInArray) {\n            this.setState({orders: [...this.state.orders, item]});\n            toast.success('Order added successfully!', {\n                position: \"top-center\",\n                autoClose: 1000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n                theme: \"light\",\n            });\n        } else {\n            toast.success('This order is already in the cart!', {\n                position: \"top-center\",\n                autoClose: 1000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n                theme: \"light\",\n            });\n        }\n    }\n\n    favoriteStatus(item){\n        item.favorite = !item.favorite;\n        const newItems = [...this.state.items];\n        const index = newItems.findIndex(el => el.id === item.id);\n        newItems[index] = item;\n        const filteredItems = newItems.filter((el) => {\n            return !this.state.searchTerm || el.title.toLowerCase().includes(this.state.searchTerm.toLowerCase());\n        });\n        const filteredAndCategorizedItems = filteredItems.filter((el) => {\n            return !this.state.currentCategory || el.category === this.state.currentCategory;\n        });\n        this.setState({\n            items: newItems,\n            currentItems: filteredAndCategorizedItems,\n        });\n    }\n\n    onSearchChange = (event) => {\n        const searchTerm = event.target.value;\n        this.setState({ searchTerm }, () => {\n            this.filterItems();\n        });\n    }\n\n    filterItems = () => {\n        let filteredItems = [];\n        if (this.state.searchTerm !== '') {\n            filteredItems = this.state.items.filter(item =>\n                item.title.toLowerCase().includes(this.state.searchTerm.toLowerCase())\n            );\n        } else {\n            filteredItems = this.state.items;\n        }\n        this.setState({ currentItems: filteredItems });\n    }\n\n    handleScrollToTop = () => {\n        window.scrollTo({\n            top: 0,\n            behavior: 'smooth'\n        });\n    }\n}\n\nexport default App;\n","C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Header\\Header.js",[],[],"C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Main\\Main.js",[],[],"C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Footer\\Footer.js",[],[],"C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Main\\Item\\Item.js",[],[],"C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Header\\Order\\Order.js",[],[],"C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Main\\Categories\\Categories.js",[],[],"C:\\Users\\molot\\Desktop\\Практика React js\\market\\src\\components\\Main\\ShowItem\\ShowItem.js",["50"],[],"import React, { Component, useState } from 'react'\r\nimport s from './ShowItem.module.css'\r\nimport {GrClose} from 'react-icons/gr'\r\nimport {MdFavorite, MdFavoriteBorder} from \"react-icons/md\";\r\n\r\nclass ShowItem extends Component {\r\n    render() {\r\n        return (\r\n            <div className={s.fullItem}>\r\n                <div>\r\n                    <button  className={s.closeButton} onClick={() => this.props.onShowItem(this.props.item)}><GrClose/></button>\r\n                    <img src={this.props.item.image} alt=\"icon\"/>\r\n                    <div className={s.info}>\r\n                        <h2>{this.props.item.title}</h2>\r\n                        <p>{this.props.item.description}</p>\r\n                        <b>{this.props.item.price}$</b>\r\n                        <div className={s.favoriteIcon} onClick={() => this.props.favoriteStatus(this.props.item)}>\r\n                            {this.props.item.favorite ? <MdFavorite /> : <MdFavoriteBorder />}\r\n                        </div>\r\n                        <div className={s.addToCart2} onClick={() => this.props.onAdd(this.props.item)}>+</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ShowItem\r\n",{"ruleId":"51","severity":1,"message":"52","line":111,"column":13,"nodeType":"53","messageId":"54","endLine":111,"endColumn":24},{"ruleId":"51","severity":1,"message":"55","line":1,"column":28,"nodeType":"53","messageId":"54","endLine":1,"endColumn":36},"no-unused-vars","'itemsToSort' is assigned a value but never used.","Identifier","unusedVar","'useState' is defined but never used."]